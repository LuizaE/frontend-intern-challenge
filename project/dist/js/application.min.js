function makeid(){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=0;o<5;o++)t+=n.charAt(Math.floor(Math.random()*n.length));return t}$(document).ready(function(){$.getJSON("js/urls.json",function(t){t.sort(function(t,n){return t.hits>n.hits?-1:n.hits>t.hits?1:0}),$.each(t.slice(0,5),function(t,n){$("#table tbody").append('<tr><td class="url"><a href="'+n.shortUrl+'">'+n.shortUrl+'</a></td><td class="hits">'+n.hits+"</td></tr>")})}),$("#shortthat").click(function(){"COPIAR"==$("#shortthat").html()?(document.getElementById("link").select(),document.execCommand("Copy"),$("#shortthat").text("COPIADO!")):"COPIADO!"!=$("#shortthat").html()&&(0===$("#link").val().length?(window.alert("Informe seu link!"),$("#link").focus()):($("#shortthat").text("COPIAR"),$(".close-icon").css({display:"inline-block"}),$("#link").val("http://crd.dc/"+makeid()).addClass("linkshort")))}),$(".close-icon").click(function(){$("#link").val("").removeClass("linkshort"),$("#shortthat").text("ENCURTAR"),$(".close-icon").css({display:"none"})})});